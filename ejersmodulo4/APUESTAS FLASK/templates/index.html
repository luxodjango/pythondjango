<!doctype html>
<html lang="es" data-bs-theme="dark">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{titulo}}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body>
  <div class="container">
    <!-- Titulo -->
    <div class="container py-3">
      <h1 class="text-center display-5 text-warning">
        <i class="bi bi-coin"></i> {{titulo}} <i class="bi bi-coin"></i>
      </h1>
    </div>
  </div> <!-- fin div titulo -->
  <div class="container-fluid pb-3 text-center py-3">
    <a href="/index.html" class="btn btn-danger btn-sm">Home</a>
    <a href="/index2.html" class="btn btn-danger btn-sm">Index2</a>
  </div>
  <!-- Grid principal -->
  <div class="container-fluid pb-3">
    <div class="d-grid gap-3" style="grid-template-columns: 1fr 2fr;">
      <!-- contenedor del formulario -->
      <div class="border rounded-3 p-2">
        <!-- aca va el formulario -->
        <form action="/guardar" method="post" autocomplete="off"><!-- url a la que se enviara la 
                                                            informacion del form con el metodo post -->
          {{forma.csrf_token}}  
          <!-- AGREGAMOS EL TOKEN PARA USAR FLASK-WTF CON MAS SEGURIDAD contra ataques CSRF-->

          <!--Nombre-->
          <div class="form-floating py-2">
            <!-- <input type="text" class="form-control" id="nombre" placeholder="Nombre" />
            <label for="nombre">Nombre</label> -->
            {{forma.nombre(class="form-control", placeholder="Nombre")}} 
            <!-- Accedemos al nombre del objeto forma y le agregamos la clase bootstrap form-control 
             y el placeholder para generar el elemento de tipo input-->
             {{forma.nombre.label}} 
            <!-- generamos el elemento de tipo label-->                        
          </div>
          <!-- apellidos -->
          <div class="form-floating py-2">
            <!-- <input type="text" class="form-control" id="apellidos" placeholder="Apellidos" />
            <label for="apellidos">Apellidos</label> -->
            {{forma.apellidos(class="form-control", placeholder="Nombre")}} 
            <!-- Accedemos al apellido del objeto forma y le agregamos la clase bootstrap form-control 
             y el placeholder para generar el elemento de tipo input-->
             {{forma.apellidos.label}} 
            <!-- generamos el elemento de tipo label-->   
          </div>
          <!-- numero_apuestas -->
          <div class="form-floating py-2">
            {{forma.numero_apuestas(class="form-control", placeholder="Nombre")}} 
            <!-- Accedemos al numero_apuestas del objeto forma y le agregamos la clase bootstrap form-control 
             y el placeholder para generar el elemento de tipo input-->
             {{forma.numero_apuestas.label}} 
            <!-- generamos el elemento de tipo label-->  
          </div>
          <!-- apuestas_ganadas-->
          <div class="form-floating py-2">
            {{forma.apuestas_ganadas(class="form-control", placeholder="Nombre")}} 
            <!-- Accedemos al apuestas_ganadas del objeto forma y le agregamos la clase bootstrap form-control 
             y el placeholder para generar el elemento de tipo input-->
             {{forma.apuestas_ganadas.label}} 
            <!-- generamos el elemento de tipo label-->  
          </div>
          <!-- apuestas_perdidas -->
          <div class="form-floating py-2">
            {{forma.apuestas_perdidas(class="form-control", placeholder="Nombre")}} 
            <!-- Accedemos al apuestas_perdidas del objeto forma y le agregamos la clase bootstrap form-control 
             y el placeholder para generar el elemento de tipo input-->
             {{forma.apuestas_perdidas.label}} 
          </div>
          <!--total_apostado -->
          <div class="form-floating py-2">
            {{forma.total_apostado(class="form-control", placeholder="Nombre")}} 
            <!-- Accedemos al total_apostado del objeto forma y le agregamos la clase bootstrap form-control 
             y el placeholder para generar el elemento de tipo input-->
             {{forma.total_apostado.label}}
          </div>
          <!--total_ganado -->
          <div class="form-floating py-2">
            {{forma.total_ganado(class="form-control", placeholder="Nombre")}} 
            <!-- Accedemos al total_ganado del objeto forma y le agregamos la clase bootstrap form-control 
             y el placeholder para generar el elemento de tipo input-->
             {{forma.total_ganado.label}}
          </div>
          <!--total_perdido -->
          <div class="form-floating py-2">
            {{forma.total_perdido(class="form-control", placeholder="Nombre")}} 
            <!-- Accedemos al total_perdido del objeto forma y le agregamos la clase bootstrap form-control 
             y el placeholder para generar el elemento de tipo input-->
             {{forma.total_perdido.label}}
          </div>
          <!--ganado_por_apuesta -->
          <div class="form-floating py-2">
            {{forma.ganado_por_apuesta(class="form-control", placeholder="Nombre")}} 
            <!-- Accedemos al ganado_por_apuesta del objeto forma y le agregamos la clase bootstrap form-control 
             y el placeholder para generar el elemento de tipo input-->
             {{forma.ganado_por_apuesta.label}}
          </div>
          <!--balance -->
          <div class="form-floating py-2">
            {{forma.balance(class="form-control", placeholder="Nombre")}} 
            <!-- Accedemos al balance del objeto forma y le agregamos la clase bootstrap form-control 
             y el placeholder para generar el elemento de tipo input-->
             {{forma.balance.label}} 
          </div>
          <!--Botones -->
          <!--Boton Guardar -->
          <div class="text-center py-2">
            <!-- <button type="submit" class="btn btn-warning btn-sm me-3">
              Guardar
            </button> -->
            {{forma.guardar(class="btn btn-warning btn-sm me-2")}} 
            <!--Boton Limpiar formulario -->
            <input type="reset" class="btn btn-primary btn-sm me-2" value="Limpiar Formulario" />
            <a href="/limpiar" class="btn btn-danger btn-sm">
              Limpiar
            </a>
          </div>
        </form>
      </div> <!-- div cierre del contenedor del formulario -->
      <!-- contenedor del listado de clientes -->
      <div class="border rounded-3 p-2">
        <!-- aqui va la tabla de listado de clientes -->
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th class="text-warning">Id</th>
              <th class="text-warning">Nombre</th>
              <th class="text-warning">Apellidos</th>
              <th class="text-warning">Numero Apuestas</th>
              <th class="text-warning">Apuestas Ganadas</th>
              <th class="text-warning">Apuestas Perdidas</th>
              <th class="text-warning">Total Apostado</th>
              <th class="text-warning">Total Ganado</th>
              <th class="text-warning">Total Perdido</th>
              <th class="text-warning">Total Apostado</th>
              <th class="text-warning">Ganado por Apuesta</th>
              <th class="text-warning">Balance</th>
              
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for persona in personas %}
            <td>{{persona.get_id_persona()}}</td><!-- id_persona -->
            <td>{{persona.get_nombre()}}</td><!-- nombre -->
            <td>{{persona.get_apellidos()}}</td><!-- apellidos -->
            <td>{{persona.get_numero_apuestas()}}</td><!-- numero_apuestas -->
            <td>{{persona.get_apuestas_ganadas()}}</td><!-- apuestas_ganadas -->
            <td>{{persona.get_apuestas_perdidas()}}</td><!-- apuestas_perdidas -->
            <td>{{persona.get_total_apostado()}}</td><!-- total_apostado -->
            <td>{{persona.get_total_ganado()}}</td><!-- total_ganado -->
            <td>{{persona.get_total_perdido()}}</td><!-- total_perdido -->
            <td>{{persona.get_ganado_por_apuesta()}}</td><!-- ganado_por_apuesta -->
            <td>{{persona.get_balance()}}</td>
            <!-- balance --><!-- vamos iterando en los valores de la base de datos -->
            <td class="text-center"><!-- iconos -->
              <div class="d-flex justify-content-between">
                <a href="/editar/{{persona.get_id_persona()}}" class="btn btn-primary btn-sm me-3">
                  <i class="bi bi-pencil"></i></a>
                <a href="/eliminar/{{persona.get_id_persona()}}" class="btn btn-danger btn-sm me-3">
                  <i class="bi bi-trash3"></i></a>
              </div>
            </td>
          </tr>
          {% endfor %}
          </tbody>
        </table>
      </div> <!-- cierre del div del contenedor de listado de clientes -->
    </div>
  </div> <!-- fin grid principal-->

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
</body>

</html>